import{d as h,r as f,c as n,e as o,Y as a,n as s,t as d,h as y,U as p,a3 as S,f as u,g as w,a4 as T}from"./-QCmQb-k.js";import"./D2j10XRx.js";async function N(e){return await $fetch("/api/newsletter/subscribe",{body:{email:e},method:"POST"}).catch(i=>i.data)}const v=["aria-label","placeholder"],x=["aria-describedby"],P=h({__name:"NewsletterForm",props:{theme:{type:Object,default:()=>({button:"",input:"",header:"",container:""})},buttonText:{type:String,default:"Subscribe"},headerText:{type:String,default:"Newsletter"},inputPlaceholder:{type:String,default:"Email address"}},emits:["subscribed"],setup(e,{emit:i}){const c=i,r=f(""),b=async()=>{const t=await N(r.value);c("subscribed",t)};return(t,l)=>(n(),o("form",{onSubmit:T(b,["prevent"]),class:s(e.theme.container)},[a(t.$slots,"top"),e.headerText?(n(),o("h2",{key:0,class:s(e.theme.header)},d(e.headerText),3)):y("",!0),a(t.$slots,"description"),p(u("input",{id:"email",type:"email",name:"mail","onUpdate:modelValue":l[0]||(l[0]=m=>r.value=m),class:s(e.theme.input),required:"","aria-label":e.inputPlaceholder,placeholder:e.inputPlaceholder},null,10,v),[[S,r.value]]),u("button",{type:"submit",class:s(e.theme.button),"aria-label":"Subscribe to Newsletter","aria-pressed":"false","aria-describedby":e.buttonText},[w(d(e.buttonText)+" ",1),a(t.$slots,"button-icon")],10,x),a(t.$slots,"bottom")],34))}});export{P as default};
