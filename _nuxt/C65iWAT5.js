import{_ as k}from"./C1TjEnW_.js";import{d as C,r as m,R as B,c as a,e as o,U as d,V as g,f as l,F as _,Q as S,t as A,h as D,O as F,q as G,W as L}from"./IMiP-mUf.js";import{u as N}from"./y6ZLZDN1.js";import"./DeRYTitY.js";import"./DUZaO1uk.js";import"./CaUOtYAD.js";const R={class:"not-prose grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},V={class:"text-center"},q={key:0,class:"text-center text-red-500"},E=3,W=C({__name:"GalleriesList",props:{path:{type:String,default:"galleries"}},async setup(f){let t,i;const h=f,r=m([]),e=m(null);let n=0;async function c(){try{return await G(L(h.path)).find()}catch(s){return s.response&&s.response.status===503&&n<E?(n++,console.warn(`Retrying fetch galleries... Attempt ${n}`),c()):(e.value="Failed to fetch galleries.",console.error(s),[])}}const{data:v,error:u}=([t,i]=B(()=>N("galleries",c)),t=await t,i(),t);return u.value&&(e.value=u.value.message),r.value=v.value||[],(s,p)=>{const y=k;return a(),o(_,null,[d(l("div",R,[(a(!0),o(_,null,S(r.value,(w,x)=>(a(),F(y,{key:x,gallery:w},null,8,["gallery"]))),128))],512),[[g,r.value.length]]),d(l("div",V,p[0]||(p[0]=[l("p",null,"No se han encontrado galerias.",-1)]),512),[[g,!r.value.length&&!e.value]]),e.value?(a(),o("div",q,[l("p",null,A(e.value),1)])):D("",!0)],64)}}});export{W as default};
